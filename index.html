<html  ng-app="pollApp">
<head>
  <title>AngularJS</title>
  <script src="/js/socket.io-1.3.7.js"></script>
  <script src="/js/angular.min.js"></script>
  <script src="/js/Chart.min.js"></script>
  <script src="/js/angular-chart.min.js"></script>
  <script src="/ctrl/poll.js"></script>

  <link rel="stylesheet" href="/css/angular-chart.min.css">
</head>
<body ng-controller="pollCtrl" onload="main()">
  <button onclick="send(0)">yes</button>
  <button onclick="send(1)">no</button>
  <button onclick="send(2)">maybe</button>

  <canvas id="chart" class="chart chart-doughnut"
    chart-data="chartData"
    chart-labels="chartLabels"
    chart-legend="true"></canvas>

  <script>
  var poll;

  function main() {
    var socket = io.connect('http://localhost:1337');
    socket.emit('poll-request');
  }

  function send(s) {
    var socket = io.connect('http://localhost:1337');
    socket.emit('send', s);
  }

  </script>
</body>
</html>
